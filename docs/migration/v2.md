# Migration to v2 (Multi-domain)

Good news: no breaking changes expected for early adopters. If starting fresh, just run the CLI wizard.

Recommended updates:
- Prefer `domains.primary` (+ optional `domains.additional`) over legacy `domain`
- Add `domainPriority` (derived automatically from primary+additional)
- Optionally add `constantResolution` for ambiguous values (e.g., `360` â†’ `geometry`)
- Use annotations in code: `@domain` / `@domains`

Quick start:
```bash
eslint-plugin-ai-code-snifftest init --primary=astronomy --additional=geometry,math,units --md --cursor
```

Legacy configs:
- Existing v1 configs continue to work; rules remain compatible
- v2 features activate when multi-domain fields are present